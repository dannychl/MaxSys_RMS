@model RecruitmentManagementSystem__Danny_.Models.Interview

<script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
<link rel="stylesheet" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" />
<link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.js"></script>

<table style="border:hidden; width:100%">
    <td style="border:hidden">
        <h2 style="font-family:Verdana; font-weight:bold">Interview Report</h2>
    </td>
</table>
<hr />
<table>
    <tr>
        <td>
            <dl class="dl-horizontal">
                <dt>
                    @Html.Label("Start: ", htmlAttributes: new { @class = "col-sm-10" })
                </dt>
                <dd>
                    <input type="text" id="txtStartDate" name="startDate" class="startDate" />
                </dd>
            </dl>
            @*<input type="submit" value="Submit" />*@
            @*@if (ViewBag.Message != null)
                {
                    <script type="text/javascript">
                    $(function () {
                        alert("@ViewBag.Message");
                    });
                    </script>
                }*@
        </td>
        <td>
            <dl class="dl-horizontal">
                <dt>
                    @Html.Label("Name: ")
                </dt>
                <dd>
                    @Html.DropDownList("ddlIntervieweeName", Model.IntervieweeNameList, "Select All", new { @style = "color: black; padding: 8px; border: 2px solid darkgrey; text-align:center" })
                </dd>
            </dl>
        </td>
    </tr>
    <tr>
        <td>
            <dl class="dl-horizontal">
                <dt>
                    @Html.Label("End:  ", htmlAttributes: new { @class = "col-sm-10" })
                </dt>
                <dd>
                    <input type="text" id="txtEndDate" name="endDate" class="endDate" />
                </dd>
            </dl>
        </td>
        <td>
            <dl class="dl-horizontal">
                <dt>
                    @Html.Label("Interviewee Status: ")
                </dt>
                <dd>
                    @Html.DropDownList("ddlIntervieweeStatus", Model.IntervieweeStatusList, "Select All", new { @style = "color: black; padding: 8px 25px; border: 2px solid darkgrey; text-align:center;" })
                </dd>
            </dl>
        </td>
    </tr>
</table>
<button id="button" class="btn btn-primary button button4">View</button>

<div id="interviewGridSearch"></div>


<script>
   @* $(".btn btn-primary button button4").on("click", function () {
        getTable();
    });*@

    $('#button').click(function () {
        getTable();
    });

    function getTable() {
        $.ajax({
            url: '@Url.Action("ShowInterviewReportTable", "Report")',
            datatype: 'html',
            method: 'GET',
            data: { searchName: $('#ddlIntervieweeName').val(), searchStatus: $('#ddlIntervieweeStatus').val(), startDate: $('#txtStartDate').val(), endDate: $('#txtEndDate').val()},
            success: function (res) {
                $('#interviewGridSearch').html('').html(res);
            },
            error: function (err) {
                console.log(err);
            }
        })
    }

    $(function () {
        $(".startDate").datepicker({
            autoclose: true,
            format: 'dd/mm/yyyy'
        }).on('changeDate', function (selected) {
            var minDate = new Date(selected.date);
            minDate.setDate(minDate.getDate() + 1);
            $('.endDate').datepicker('setStartDate', minDate);
        });

        $(".endDate").datepicker({
            autoclose: true,
            format: 'dd/mm/yyyy'
        }).on('changeDate', function (selected) {
            var minDate = new Date(selected.date);
            minDate.setDate(minDate.getDate() - 1);
            $('.startDate').datepicker('setEndDate', minDate);
        });
    });
</script>

