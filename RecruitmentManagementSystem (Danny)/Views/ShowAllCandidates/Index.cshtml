@model IEnumerable<RecruitmentManagementSystem__Danny_.Models.Candidate>

@{
    ViewBag.Title = "Show All Candidates";
}

<table style="width:100%">
    <td style="border:hidden">
        <h2 style="font-family:'Bookman Old Style'; font-size:22px;">Show All Candidates</h2>
    </td>
    <td style="border:hidden">
        <div class="col-sm-12">
            <div class="form-inline pull-right">
                <label>Search</label>
                <input type="text" class="form-control" id="txtSearch" />
            </div>
        </div>
    </td>
</table>

<div id="gridSearch"></div>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
        $(".LinkButton").on("click", function () {
            return confirm("Do you want to confirm your selection?");
        });
        @*$('dosubmit').click(function (e) {
            return confirm("Do you want to submit?");
        }*@

    $(() => {
        getUsers();

        $('#txtSearch').on('keyup', () => {
            getUsers();
        });
    });

    function getUsers() {
        $.ajax({
            url: '@Url.Action("SearchUsers","ShowAllCandidates")',
            datatype: 'html',
            method: 'GET',
            data: { searchText: $('#txtSearch').val()},
            success: function (res) {
                $('#gridSearch').html('').html(res);
            },
            error: function (err) {
                console.log(err);
            }
        })
    }
</script>